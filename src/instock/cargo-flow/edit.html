<template>
    <require from="aurelia-kendoui-bridge/common/notify-binding-behavior"></require>
    <div class="grid simple">
        <div class="grid-title no-border">新增入库</h4></div>
        <div class="grid-body no-border"><br>
            <form submit.delegate="updateCargoFlow()">
                <div class="form-group">
                    <label class="form-label">批次号</label>
                    <span class="help"></span>
                    <div class="controls">
                        <input type="text" class="form-control" value.bind="cargoFlow.batchNumber" readonly>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">是否为最后一批*</label>
                    <span class="help"></span>
                    <div class="controls">
                        <input type="radio" class="form-label" model.bind="1" checked.bind="cargoFlow.lastBatch"
                               name="lastBatch">是
                        <input type="radio" class="form-label" model.bind="2" checked.bind="cargoFlow.lastBatch"
                               name="lastBatch">否
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">联系人*</label>
                    <span class="help"></span>
                    <div class="controls">
                        <input type="text" class="form-control" value.bind="cargoFlow.contactPerson">
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">联系方式*</label>
                    <span class="help"></span>
                    <div class="controls">
                        <input type="text" class="form-control" value.bind="cargoFlow.contactNumber">
                    </div>
                </div>
                <ak-grid k-data-source.bind="dataSourceCargoItem" k-editable.bind="true">
                    <ak-col k-field="cargoName" k-title="货物名称" >
                        <ak-template>
                            <input type="text" style="border: 0" value.bind="cargoName" readonly/>
                        </ak-template>
                    </ak-col>
                    <ak-col k-field="instockFlowNumber" k-title="入库流水单号 " k-width.bind="180" >
                        <ak-template>
                            <input type="text" style="border: 0" value.bind="instockFlowNumber" readonly/>
                        </ak-template>
                    </ak-col>
                    <ak-col k-field="orderQuantity" k-title="指令数量">
                        <ak-template>
                            <input type="text" style="border: 0" value.bind="orderQuantity" readonly/>
                        </ak-template>
                    </ak-col>
                    <ak-col k-field="orderNumber" k-title="指令件数">
                        <ak-template>
                            <input type="text" style="border: 0" value.bind="orderNumber" readonly/>
                        </ak-template>
                    </ak-col>
                    <ak-col k-field="unit" k-title="计量单位">
                        <ak-template>
                            <input type="text" style="border: 0" value.bind="unit" readonly/>
                        </ak-template>
                    </ak-col>
                    <ak-col k-field="actualQuantity" k-title="入库数量"></ak-col>
                    <ak-col k-field="actualNumber" k-title="入库件数"></ak-col>
                    <ak-col k-field="containerNumber" k-title="集装箱号"></ak-col>
                    <ak-col k-field="remark" k-title="备注"></ak-col>
                    <ak-col k-title="操作">
                        <ak-template>
                            <button class="btn btn-success btn-small" click.delegate="addVehicle($this)">添加车辆
                            </button>
                        </ak-template>
                    </ak-col>
                </ak-grid>
                <ak-grid k-data-source.bind="dataSourceVehicle" k-editable.bind="true">
                    <ak-col k-title="货物名称">
                        <ak-template>
                            <input type="text" style="border: 0" value.bind="cargoName" readonly/>
                        </ak-template>
                    </ak-col>
                    <ak-col k-field="plateNumber" k-title="车牌号"></ak-col>
                    <ak-col k-field="driverName" k-title="司机名称"></ak-col>
                    <ak-col k-field="driverIdentityNumber" k-title="身份证号"></ak-col>
                    <ak-col k-field="phoneNumber" k-title="电话"></ak-col>
                    <ak-col k-field="remark" k-title="备注"></ak-col>
                    <ak-col k-title="操作">
                        <ak-template>
                            <button class="btn btn-danger btn-small" click.delegate="deleteVehicle($this)">删除</button>
                        </ak-template>
                    </ak-col>
                </ak-grid>
                <div class="form-actions">
                    <div class="pull-right">
                        <button class="btn btn-success btn-cons" type="submit"><i class="icon-ok"></i>保存</button>
                        <button class="btn btn-white btn-cons" type="button" click.delegate="cancel()">取消</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    </div>
</template>