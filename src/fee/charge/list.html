<template>
  <div class="row m-b-5">
    <div class="col-md-3">
      <button class="btn btn-small" click.delegate="verifyHistory()">审核记录</button>
    </div>
  </div>
  <ak-grid k-data-source.bind="dataSource" k-sortable.bind="true" k-pageable.bind="pageable" k-selectable="row"
           k-on-change.delegate="rowSelected($event.detail)">
    <ak-col k-field="agentName" k-title="代理商名称" k-width.bind="100"></ak-col>
    <ak-col k-field="customerName" k-title="客户名称" k-width.bind="100"></ak-col>
    <ak-col k-field="lastStage" k-title="上阶段" k-width.bind="150"></ak-col>
    <ak-col k-field="stage" k-title="当前阶段" k-width.bind="150"></ak-col>
    <ak-col k-title="操作">
      <ak-template>
        <a class="btn btn-small" route-href="route: customerConfirm; params.bind: { id: id }">客户确认</a>
        <button class="btn btn-small btn-primary" click.delegate="auditSecondFee(id)">费收审核</button>
        <a class="btn btn-small" route-href="route: note; params.bind: { id: id }">查看收费单</a>
        <button class="btn btn-small btn-primary" click.delegate="invoiceEntry(id)">发票录入</button>
        <button class="btn btn-small btn-primary" click.delegate="auditCancel(id)">核销</button>
      </ak-template>
    </ak-col>
  </ak-grid>
</template>